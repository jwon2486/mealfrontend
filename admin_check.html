<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì‹ ì²­ ë‚´ì—­ í™•ì¸</title>
  <link rel="stylesheet" href="css/admin_check.css">
  <script>
    const savedUser = sessionStorage.getItem("currentUser");
    if (!savedUser) {
      location.href = "index.html";
    } else {
      const user = JSON.parse(savedUser);
      if (user.level !== 3) {
        alert("ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
        location.href = "index.html";
      }
    }
  </script>
</head>
<body>
  <h1>ì‹ ì²­ ë‚´ì—­ í™•ì¸</h1>

  <!-- ìš”ì•½ ì •ë³´ -->
  <div class="summary" id="summary-box">
    ğŸ“‹ ì´ ì‹ ì²­ ì¸ì›: <span id="totalPeople">0</span>ëª… |
    ì¡°ì‹: <span id="totalBreakfast">0</span> |
    ì¤‘ì‹: <span id="totalLunch">0</span> |
    ì„ì‹: <span id="totalDinner">0</span>
  </div>

  <!-- ê¸°ê°„ ì„ íƒ -->
  <div class="filter-container">
    <label>ì‹œì‘ ë‚ ì§œ: <input type="date" id="startDate"></label>
    <label>ì¢…ë£Œ ë‚ ì§œ: <input type="date" id="endDate"></label>
    <button class="btn-search" onclick="loadCheckData()">ì¡°íšŒ</button>
    <button onclick="window.location.href='admin_dashboard.html'" class="back-button dashboard-btn">â† ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</button>
  </div>

  <!-- ê²€ìƒ‰ í•„í„° -->
  <div class="search-container">
    <label>ë¶€ì„œ: <input type="text" id="filterDept" placeholder="ë¶€ì„œ"></label>
    <label>ì‚¬ë²ˆ: <input type="text" id="filterId" placeholder="ì‚¬ë²ˆ"></label>
    <label>ì´ë¦„: <input type="text" id="filterName" placeholder="ì´ë¦„"></label>
    <button class="btn-search" onclick="filterCheckData()">ğŸ” ê²€ìƒ‰</button>
    <button class="btn-all" onclick="resetFilter()">ğŸ”„ ì „ì²´ë³´ê¸°</button>
    <button class="save-btn" onclick="downloadExcel()">ì—‘ì…€ ë‹¤ìš´ë¡œë“œ</button>
  </div>

  <!-- ì‹ ì²­ ë‚´ì—­ í…Œì´ë¸” (editì™€ ë™ì¼: ì»¨í…Œì´ë„ˆë¡œ ê°ì‹¸ì„œ thead ê³ ì •) -->
  <div class="table-container">
    <table id="check-table">
      <thead id="table-head"></thead>
      <tbody id="table-body"></tbody>
    </table>
  </div>

  <div id="toast" class="toast"></div>
  <script src="js/config.js"></script>
  <script src="js/util.js"></script>
  <script src="js/admin_check.js"></script>
  <script src="js/auth.js"></script>
</body>
</html>
