<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê´€ë¦¬ì - ì‹ ì²­ ë‚´ì—­ ë³€ê²½</title>
    <link rel="stylesheet" href="css/admin_edit.css">
<script>
  const savedUser = sessionStorage.getItem("currentUser");
  if (!savedUser) {
    location.href = "index.html";  // ë¡œê·¸ì¸ ì•ˆ ë˜ì–´ ìˆìŒ
  } else {
    const user = JSON.parse(savedUser);
    if (user.level !== 3) {
      alert("ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.");
      location.href = "index.html"; // ê´€ë¦¬ì ê¶Œí•œ ì•„ë‹˜
    }
  }
</script>
</head>
<body>
    <h1>ì‹ ì²­ ë‚´ì—­ ë³€ê²½</h1>

    <!-- ìš”ì•½ ì •ë³´ -->
    <div class="summary">
        ğŸ“‹ ì´ ì‹ ì²­ ì¸ì›: <span id="totalPeople">0</span>ëª… |
        ì¡°ì‹: <span id="totalBreakfast">0</span> |
        ì¤‘ì‹: <span id="totalLunch">0</span> |
        ì„ì‹: <span id="totalDinner">0</span>
    </div>

<div class="filter-container">
  <div class="filter-row">
    <label>ë¶€ì„œ: <input type="text" id="searchDept" class="input-dept"></label>
    <label>ì‚¬ë²ˆ: <input type="text" id="searchEmpId" class="input-empid"></label>
    <label>ì´ë¦„: <input type="text" id="searchName" class="input-name"></label>
    <label>ë³¸ì¸í™•ì¸:
    <select id="selfcheckFilter">
      <option value="">ì „ì²´</option>
      <option value="1">âœ… ì™„ë£Œ</option>
      <option value="0">âŒ ë¯¸ì™„ë£Œ</option>
    </select>
    </label>
    <label>ê·¼ë¬´ì§€ì—­:
    <select id="filterRegion">
    <option value="">ì „ì²´</option>
    <option value="ì—ì½”ì„¼í„°">ì—ì½”ì„¼í„°</option>
    <option value="í…Œí¬ì„¼í„°">í…Œí¬ì„¼í„°</option>
    <option value="ê¸°íƒ€">ê¸°íƒ€</option>
  </select>
  </label>
  </div>
  </div>
  <div class="filter-row">
    <button class="btn-search" onclick="loadEditData(document.getElementById('editWeekPicker').value)">ğŸ”ì‹ ì²­ì ì¡°íšŒ</button>
    <button class="btn-all" onclick="loadAllEmployeesForEdit(document.getElementById('editWeekPicker').value)">ğŸ”„ ì „ì²´ì¡°íšŒ</button>
    <label>ì£¼ ì„ íƒ: <input type="date" id="editWeekPicker"></label>
  </div>
</div>

    <!-- ì‹ ì²­ ë‚´ì—­ ë³€ê²½ í…Œì´ë¸” -->
    <div class="table-container">
        <table id="edit-table">
            <thead id="table-head"></thead>
            <tbody id="edit-body"></tbody>
        </table>
    </div>

    <!-- ì €ì¥ ë° ë’¤ë¡œê°€ê¸° ë²„íŠ¼ -->
    <div class="action-buttons">
      <button class="save-btn" onclick="saveEditChanges()">ğŸ’¾ ì €ì¥</button>
      <button class="dashboard-btn" onclick="window.location.href='admin_dashboard.html'">â† ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</button>
    </div>


    
    <div id="toast" class="toast"></div>
    <!-- âœ… ê³µí†µ ìœ í‹¸ ë¨¼ì € ë¶ˆëŸ¬ì˜¤ê¸° -->
    <script src="js/config.js"></script>
    <script src="js/util.js"></script>
    <script src="js/admin_edit.js"></script>
    <script src="js/auth.js"></script>
</body>
</html>
